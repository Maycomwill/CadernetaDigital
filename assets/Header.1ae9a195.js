var N=Object.defineProperty;var s=(e,o)=>N(e,"name",{value:o,configurable:!0});import{r as a}from"./index.ad78d181.js";import{a as l,e as L,d as f,M as I,$ as R,b,y as w,s as E,c as P}from"./firebaseConfig.ea7f1421.js";import{u as p,a as O}from"./useUser.f70a2c9b.js";import{j as t,a as m}from"./jsx-runtime.f08495b4.js";import{B as U}from"./Button.5b25b9e8.js";import{H as j}from"./Heading.8ad87fa4.js";import{L as A}from"./Loading.f11790e9.js";import{u as B}from"./index.6599b710.js";const x=a.exports.createContext({});function u({children:e}){const[o]=p(l),[i,r]=a.exports.useState(!1),[g,d]=a.exports.useState([]);async function h(n){const v=L(f,"schools"),C=I(v,R("userId","==",`${n}`)),y=await b(C);d([]),y.forEach(c=>{d(_=>[..._,{schoolName:c.data().schoolName,userId:c.data().userId,address:c.data().address,schoolId:c.data().schoolId}])})}s(h,"handleWithSchoolDataFromDb");async function S(n){r(!0),await w(E(f,"schools",n)),console.log("Excluindo escola",n),alert("Escola excluida"),h(o==null?void 0:o.uid),location.replace("/"),r(!1)}return s(S,"handleDeleteSchoolFromDB"),a.exports.useEffect(()=>{o&&(d([]),h(o==null?void 0:o.uid))},[o]),t(x.Provider,{value:{user:o,isLoading:i,schoolData:g,handleWithSchoolDataFromDb:h,handleDeleteSchoolFromDB:S},children:e})}s(u,"SchoolsContextProvider");try{u.displayName="SchoolsContextProvider",u.__docgenInfo={description:"",displayName:"SchoolsContextProvider",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/contexts/SchoolsContext.tsx#SchoolsContextProvider"]={docgenInfo:u.__docgenInfo,name:"SchoolsContextProvider",path:"src/contexts/SchoolsContext.tsx#SchoolsContextProvider"})}catch{}function M(){return a.exports.useContext(x)}s(M,"useSchool");function Y(){var r;p(l);const{userData:e}=O(),o=B(),i=s(()=>{P(l),o("/")},"logout");return(e==null?void 0:e.photoURL)===((r=l.currentUser)==null?void 0:r.photoURL)?m("div",{className:"flex w-full items-center justify-between gap-4 p-2 md:p-4 border-b-2 border-green-500",children:[t(j,{size:"lg",children:t("div",{className:" hover:text-green-500 hover:translate-x-2 transition-all duration-100",children:t("a",{href:"/",children:"Caderneta Digital"})})}),m("div",{className:"flex w-[30%] gap-6 items-center justify-end",children:[t("div",{className:"flex items-center justify-center gap-2",children:(e==null?void 0:e.photoURL)!==null?t("div",{className:"shadow-md shadow-black rounded-full",children:t("img",{className:"rounded-full w-10 ring-2 ring-green-500",src:e==null?void 0:e.photoURL,alt:"User Image from Google Account",referrerPolicy:"no-referrer"})}):null}),t("div",{className:"",children:t(U,{size:"sm",onClick:i,children:"Sair"})})]})]}):t("div",{children:t(A,{})})}s(Y,"Header");export{Y as H,M as u};
//# sourceMappingURL=Header.1ae9a195.js.map
